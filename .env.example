# ===========================================
# Travel Ruter - Docker Environment Configuration
# ===========================================
# Copy this file to .env and update values for your deployment

# ===========================================
# Database Configuration (PostgreSQL + PostGIS)
# ===========================================
POSTGRES_DB=travel_ruter
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change-this-secure-password
POSTGRES_PORT=5432

# Path to store PostgreSQL data on host
# For NAS deployment, point to your NAS storage location
POSTGRES_DATA_PATH=./data/postgres

# ===========================================
# Backend Configuration (FastAPI)
# ===========================================
APP_ENV=production
DEBUG=false
SECRET_KEY=generate-a-secure-random-key-here
BACKEND_PORT=8000

# JWT Authentication (SECRET_KEY is used by both backend and orchestrator)
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=30

# CORS Origins (comma-separated)
# Production: CORS_ORIGINS=https://travelruter.com
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:80

# Public URL (for OAuth callbacks)
PUBLIC_URL=https://travelruter.com
FRONTEND_URL=https://travelruter.com

# ===========================================
# Document Storage (The Vault)
# ===========================================
# Path to store uploaded documents on host
# For NAS deployment, point to your NAS storage location
VAULT_DATA_PATH=./data/vault

# Maximum upload size in MB
MAX_UPLOAD_SIZE_MB=50

# ===========================================
# Frontend Configuration (React/Vite)
# ===========================================
FRONTEND_PORT=80

# API URL for frontend (relative path when using nginx proxy)
VITE_API_URL=/api

# Orchestrator URL for frontend (relative path through nginx in production)
VITE_ORCHESTRATOR_URL=/chat
ORCHESTRATOR_PORT=3001

# Auth toggle (set true for production with OAuth configured)
VITE_AUTH_ENABLED=false

# ===========================================
# Cloudflare Tunnel (Production only)
# ===========================================
# Create a tunnel at https://one.dash.cloudflare.com/ and paste the token here.
# Activated with: docker compose --profile prod up
CLOUDFLARE_TUNNEL_TOKEN=your-tunnel-token

# Cloudflare Access (Zero Trust) - auto-login without login page
# When enabled, users authenticated via Cloudflare Access are automatically
# logged into the app without seeing the login page.
CF_ACCESS_ENABLED=false
CF_ACCESS_DOMAIN=travelruter.com
CF_ACCESS_AUD=your-application-aud-tag
VITE_CF_ACCESS_ENABLED=false

# ===========================================
# AI Provider API Keys
# ===========================================
# At least one provider key is needed for the AI assistant to work.
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
GOOGLE_API_KEY=

# Google Cloud (for Vertex AI / Gemini)
# GOOGLE_CLOUD_PROJECT=
# GOOGLE_CLOUD_LOCATION=us-central1

# ===========================================
# OAuth Providers
# ===========================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ===========================================
# Encryption (per-trip API keys)
# ===========================================
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
FERNET_KEY=

# ===========================================
# External API Keys
# ===========================================
# Mapbox API token (get free tier at https://www.mapbox.com/)
MAPBOX_ACCESS_TOKEN=your_mapbox_access_token_here
VITE_MAPBOX_ACCESS_TOKEN=your_mapbox_access_token_here

# OpenRouteService API key (for real road network routing)
# Get free tier at https://openrouteservice.org/dev/#/signup
# Free tier: 2,000 requests/day
OPENROUTESERVICE_API_KEY=your_openrouteservice_api_key_here

# Google Maps API key (for Routes API with real transit routing)
GOOGLE_MAPS_API_KEY=

# NAVITIME API key (for Japan transit routing - JR/Shinkansen/local lines)
# Get free tier (500 req/month) at: https://rapidapi.com/navitimejapan-navitimejapan/api/navitime-route-totalnavi
NAVITIME_RAPIDAPI_KEY=

# Amadeus API (Hotels & Flights)
# AMADEUS_CLIENT_ID=
# AMADEUS_CLIENT_SECRET=

# ===========================================
# NAS-Specific Configuration Examples
# ===========================================
# For Synology/QNAP NAS deployments, you might use paths like:
# POSTGRES_DATA_PATH=/volume1/docker/travel-ruter/postgres
# VAULT_DATA_PATH=/volume1/docker/travel-ruter/vault
#
# For NFS-mounted storage:
# POSTGRES_DATA_PATH=/mnt/nas/travel-ruter/postgres
# VAULT_DATA_PATH=/mnt/nas/travel-ruter/vault
